import * as React from 'react';
import './nav.scss';
import { NodeDropdown } from 'components/node-dropdown';
import { SearchInput } from 'components/search-input';
import { NavLink } from 'react-router-dom';
import { OutsideAlerter } from 'components/outside-click';
import { Select } from 'components/node-dropdown/components/select-node';
import { TransitionGroup, CSSTransition } from 'react-transition-group';

const Logo = () => (
  <img
  width="59"
  height="63"
  src="data:image/jpeg;base64,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"
  />
);

export class Nav extends React.Component {
  public state = {
    open: false
  };

  public toggleDrawer = () => {
    this.setState({ open: !this.state.open });
  };

  public render() {
    const { toggleDrawer } = this;
    const { open } = this.state;
    return (
      <>
        <nav className="Navigation">
          <div className="Navigation-wrapper">
            <button
              className="Navigation-open-drawer"
              onClick={() => this.setState({ open: true })}
            >
              <i className="nc-icon nc-ic_menu_24px size_24px" />
            </button>
            <NavLink to="/" className="Navigation-title">
              <Logo />
            </NavLink>
            <div className="flex-spacer" />
            <SearchInput />
            <div className="flex-spacer" />
            <NodeDropdown />
          </div>
        </nav>
        <TransitionGroup>
          {open && (
            <CSSTransition classNames="Navigation-Drawer-animation" timeout={200}>
              <aside className="Navigation-Drawer-wrapper">
                <OutsideAlerter onClick={this.toggleDrawer}>
                  <nav className="Navigation-Drawer">
                    <header className="Navigation-Drawer-header">
                      <NavLink to="/" className="Navigation-title" onClick={toggleDrawer}>
                        <Logo />
                      </NavLink>
                    </header>
                    <Select onSelect={toggleDrawer} />
                  </nav>
                </OutsideAlerter>
              </aside>
            </CSSTransition>
          )}
        </TransitionGroup>
      </>
    );
  }
}
